<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8">
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  <title>Lexi - Startup Strategist | SoloBoss AI</title>
Â  <link rel="icon" type="image/png" sizes="32x32" href="assets/images/favicon-32x32.png">
Â  <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon-16x16.png">
Â  <link rel="apple-touch-icon" sizes="180x180" href="assets/images/apple-touch-icon.png">
Â  <script src="https://cdn.tailwindcss.com"></script>
Â  <link href="assets/css/fonts.css" rel="stylesheet">
Â  <style>
Â  Â  body { font-family: 'Poppins', sans-serif; background-color: #1A1A2E; color: #FFFFFF; overflow-x: hidden; }
Â  Â  .lexi-header { font-family: 'Emilys Candy', cursive; color: #A044FF; font-size: 2.2rem; text-align: center; margin-top: 2rem; }
Â  Â  .lexi-subtitle { font-family: 'Henny Penny', cursive; color: #00D9C0; font-size: 1.15rem; text-align: center; margin-bottom: 2.5rem; }
Â  Â  .lexi-input-field { background-color: rgba(255,255,255,0.08); border: 1px solid rgba(160, 68, 255, 0.5); border-radius: 0.375rem; padding: 0.75rem 1rem; width: 100%; color: #FFFFFF; }
Â  Â  .lexi-btn { background: #00D9C0; color: #1A1A2E; border: none; border-radius: 0.5rem; padding: 0.5rem 1.5rem; font-size: 1.05rem; font-family: 'Inter', sans-serif; font-weight: 700; cursor: pointer; transition: background-color 0.3s, color 0.3s; }
Â  Â  .lexi-btn:hover { background: #A044FF; color: #fff; }
    .lexi-btn:disabled { background-color: #555; cursor: not-allowed; }
Â  Â  .lexi-content-card { background: #232336; border-radius: 1.25rem; padding: 2rem; margin-bottom: 2.5rem; border-left: 6px solid #A044FF; }
    /* Styles for the AI-generated content */
    .lexi-content-card h3 { font-size: 1.1em; color: #00D9C0; margin-top: 1em; }
    .lexi-content-card ul { list-style-type: disc; padding-left: 20px; }
    .lexi-content-card p, .lexi-content-card li { margin-bottom: 0.5em; }
Â  </style>
</head>
<body class="flex h-screen">
Â  <main class="flex-1 mx-auto p-6 md:p-10">
Â  Â  <div class="container mx-auto max-w-2xl py-10">
Â  Â  Â  <h1 class="lexi-header">Lexi - Startup Strategist</h1>
Â  Â  Â  <div class="lexi-subtitle">Your AI-powered business coach for validation, monetization, and more.</div>
Â  Â  Â  <section class="lexi-content-card">
Â  Â  Â  Â  <label for="businessIdea" class="block text-sm font-medium text-white/80 mb-1">What's your business idea?</label>
Â  Â  Â  Â  <textarea id="businessIdea" name="businessIdea" rows="4" class="lexi-input-field mb-4" placeholder="E.g., A digital planner for neurodivergent creators"></textarea>

Â  Â  Â  Â  <label for="ideaStage" class="block text-sm font-medium text-white/80 mb-1">What stage are you in?</label>
Â  Â  Â  Â  <select id="ideaStage" name="ideaStage" class="lexi-input-field mb-6">
Â  Â  Â  Â  Â  <option>Just an idea</option>
Â  Â  Â  Â  Â  <option>Prototyping</option>
Â  Â  Â  Â  Â  <option>Pre-launch</option>
Â  Â  Â  Â  Â  <option>Launched</option>
Â  Â  Â  Â  </select>

Â  Â  Â  Â  <button type="button" id="getStrategyBtn" class="lexi-btn w-full">ðŸš€ Get Strategy</button>
Â  Â  Â  </section>

Â  Â  Â  <section id="strategicInsightsOutput" class="mt-6 hidden">
Â  Â  Â  Â  <div class="lexi-content-card">
Â  Â  Â  Â  Â  <h3 class="text-primary-purple text-xl font-bold mb-2">Idea Validation Deep Dive</h3>
Â  Â  Â  Â  Â  <div id="validationContent" class="text-white/70 text-sm"></div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="lexi-content-card">
Â  Â  Â  Â  Â  <h3 class="text-primary-purple text-xl font-bold mb-2">Monetization Pathways</h3>
Â  Â  Â  Â  Â  <div id="monetizationContent" class="text-white/70 text-sm"></div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="lexi-content-card">
Â  Â  Â  Â  Â  <h3 class="text-primary-purple text-xl font-bold mb-2">Ideal User Persona Sketch</h3>
Â  Â  Â  Â  Â  <div id="personaContent" class="text-white/70 text-sm"></div>
Â  Â  Â  Â  </div>
Â  Â  Â  </section>
Â  Â  </div>
Â  </main>

 <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
 
 <script>
    document.getElementById('getStrategyBtn').addEventListener('click', async () => {
        // Get references to all the HTML elements we need to interact with
        const getStrategyBtn = document.getElementById('getStrategyBtn');
        const validationContent = document.getElementById('validationContent');
        const monetizationContent = document.getElementById('monetizationContent');
        const personaContent = document.getElementById('personaContent');
        const outputSection = document.getElementById('strategicInsightsOutput');

        // Show a loading state to the user so they know something is happening
        getStrategyBtn.disabled = true;
        getStrategyBtn.innerHTML = "ðŸ¤” Lexi is thinking...";
        validationContent.innerHTML = "Please wait, fetching insights...";
        monetizationContent.innerHTML = "Please wait, fetching insights...";
        personaContent.innerHTML = "Please wait, fetching insights...";
        outputSection.classList.remove('hidden'); // Show the output cards
        
        // This is the URL for the secure Serverless Function you created.
        const functionUrl = "https://faas-nyc1-2ef2e6cc.doserverless.co/api/v1/web/fn-59b513ef-33a1-4927-ab7f-c9499209f503/default/lexi-strategist"; 

        // Get the user's input from the form fields
        const idea = document.getElementById('businessIdea').value;
        const stage = document.getElementById('ideaStage').value;

        try {
            // Make a SINGLE, secure call to our backend function
            const response = await fetch(functionUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                // Send the user's idea and stage to the function
                body: JSON.stringify({ idea: idea, stage: stage })
            });

            if (!response.ok) {
                // If the server function itself has an error, handle it
                throw new Error(`Server error: ${response.statusText}`);
            }

            // The function returns a single package with all three AI responses
            const result = await response.json();
            
            // Use the 'marked.parse()' function to convert the AI's markdown into HTML
            // This will correctly render headings, lists, bold text, etc.
            validationContent.innerHTML = marked.parse(result.validation || "No response received.");
            monetizationContent.innerHTML = marked.parse(result.monetization || "No response received.");
            personaContent.innerHTML = marked.parse(result.persona || "No response received.");

        } catch (error) {
            // If anything goes wrong, show a user-friendly error message
            console.error("Error fetching strategy:", error);
            const errorMessage = "Oops â€” Lexi hit a snag. Please try again in a bit.";
            validationContent.innerHTML = errorMessage;
            monetizationContent.innerHTML = errorMessage;
            personaContent.innerHTML = errorMessage;
        } finally {
            // No matter what happens (success or error), re-enable the button
            getStrategyBtn.disabled = false;
            getStrategyBtn.innerHTML = "ðŸš€ Get Strategy";
        }
    });
Â </script>

</body>
</html>
